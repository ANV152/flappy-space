\hypertarget{_game_8hpp_source}{}\doxysection{Game.\+hpp}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <SFML/Graphics.hpp>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <SFML/Audio.hpp>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}StateMachine.hpp"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}AssetManager.hpp"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}InputManager.hpp"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}DEFINITIONS.hpp"{}}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{namespace }Flappy}
\DoxyCodeLine{14 \{}
\DoxyCodeLine{15     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_flappy_1_1_game_data}{GameData}}}
\DoxyCodeLine{16     \{}
\DoxyCodeLine{17         \mbox{\hyperlink{class_flappy_1_1_state_machine}{StateMachine}} machine;}
\DoxyCodeLine{18         sf::RenderWindow window;}
\DoxyCodeLine{19         \mbox{\hyperlink{class_flappy_1_1_asset_manager}{AssetManager}} assets;}
\DoxyCodeLine{20         \mbox{\hyperlink{class_flappy_1_1_input_manager}{InputManager}} input;}
\DoxyCodeLine{21         sf::Music \_Soundtrack;}
\DoxyCodeLine{22         std::vector<std::string> asteroidNames;}
\DoxyCodeLine{23     \};}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{keyword}{typedef} std::shared\_ptr<GameData> GameDataRef;}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keyword}{template}<\textcolor{keyword}{typename} f>}
\DoxyCodeLine{29     \textcolor{keywordtype}{float} getTurnDownFreq\_(f freq, f speed)}
\DoxyCodeLine{30     \{}
\DoxyCodeLine{31         \textcolor{keywordflow}{return} speed * freq * freq;}
\DoxyCodeLine{32     \}}
\DoxyCodeLine{33     }
\DoxyCodeLine{34     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{35     \textcolor{keywordtype}{void} turnVolume(T \_data,\textcolor{keywordtype}{float} dt, \textcolor{keywordtype}{bool} up, \textcolor{keywordtype}{float} target, \textcolor{keywordtype}{float} speed = 0.05) }
\DoxyCodeLine{36     \{}
\DoxyCodeLine{37             \textcolor{keywordflow}{switch} (up)}
\DoxyCodeLine{38             \{}
\DoxyCodeLine{39             \textcolor{keywordflow}{case} \textcolor{keyword}{true}:}
\DoxyCodeLine{40                 \textcolor{keywordflow}{if} (\_data-\/>\_Soundtrack.getVolume() > target)}
\DoxyCodeLine{41                 \{}
\DoxyCodeLine{42                     \_data-\/>\_Soundtrack.setVolume(target);}
\DoxyCodeLine{43                 \}}
\DoxyCodeLine{44                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{45                 \{}
\DoxyCodeLine{46                     \_data-\/>\_Soundtrack.setVolume(\_data-\/>\_Soundtrack.getVolume() + getTurnDownFreq\_(dt, speed));}
\DoxyCodeLine{47                 \}}
\DoxyCodeLine{48                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{49             \textcolor{keywordflow}{case} \textcolor{keyword}{false}:}
\DoxyCodeLine{50                 \textcolor{keywordflow}{if} (\_data-\/>\_Soundtrack.getVolume() < target)}
\DoxyCodeLine{51                 \{}
\DoxyCodeLine{52                     \_data-\/>\_Soundtrack.setVolume(target);}
\DoxyCodeLine{53                 \}}
\DoxyCodeLine{54                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{55                 \{}
\DoxyCodeLine{56                     \_data-\/>\_Soundtrack.setVolume(\_data-\/>\_Soundtrack.getVolume() -\/ getTurnDownFreq\_(dt,speed));}
\DoxyCodeLine{57                 \}}
\DoxyCodeLine{58                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{59             \}}
\DoxyCodeLine{60     \}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keyword}{class }\mbox{\hyperlink{class_flappy_1_1_game}{Game}}}
\DoxyCodeLine{64     \{}
\DoxyCodeLine{65     \textcolor{keyword}{public}:}
\DoxyCodeLine{66         \mbox{\hyperlink{class_flappy_1_1_game}{Game}}(\textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, std::string title);}
\DoxyCodeLine{67         }
\DoxyCodeLine{68         }
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{keyword}{private}:}
\DoxyCodeLine{71         \textcolor{comment}{// Updates run at 60 per second.}}
\DoxyCodeLine{72         \textcolor{keyword}{const} \textcolor{keywordtype}{float} dt = 1.0f / 60.0f;}
\DoxyCodeLine{73         sf::Clock \_clock;}
\DoxyCodeLine{74 }
\DoxyCodeLine{75         GameDataRef \_data = std::make\_shared<GameData>();}
\DoxyCodeLine{76 }
\DoxyCodeLine{77         \textcolor{keywordtype}{void} Run();}
\DoxyCodeLine{78     \};}
\DoxyCodeLine{79 \}}

\end{DoxyCode}
